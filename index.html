<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>The Potential Company</title>
  <meta name="description" content="Helping Good businesses reach their potential. Demos, concepts, and contact." />
  <meta name="theme-color" content="#84CC16" />
  <link rel="icon" href="/favicon.ico" />
  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <!-- Performance: warm up Loom origins -->
  <link rel="preconnect" href="https://www.loom.com" crossorigin>
  <link rel="preconnect" href="https://cdn.loom.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Instrument+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">

  <style>
    *,*::before,*::after{box-sizing:border-box}
    html:focus-within{scroll-behavior:smooth}
    body{margin:0;font-family:"Instrument Sans",ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,"Apple Color Emoji","Segoe UI Emoji";line-height:1.6;background:#fff;color:#0b1220}
    a{color:inherit;text-decoration:none}

    :root{--lime:#84CC16;--orange:#F97316;--muted:#586070;--bd:#e5e7eb;--shadow:0 4px 20px rgba(0,0,0,.08)}

    .container{width:min(1024px,92%);margin-inline:auto}
    .stack{display:grid;gap:1rem}

    header{position:sticky;top:0;z-index:30;background:rgba(255,255,255,.8);backdrop-filter:blur(8px);border-bottom:1px solid var(--bd)}
    .nav{display:flex;align-items:center;justify-content:space-between;padding:.75rem 0}
    .brand{display:flex;align-items:center;gap:.6rem;font-weight:700;letter-spacing:.2px}
    .dot{width:.8rem;height:.8rem;border-radius:50%;background:linear-gradient(135deg,var(--lime),var(--orange));box-shadow:0 0 0 4px rgba(132,204,22,.15)}
    nav a{padding:.5rem .75rem;border-radius:10px;color:var(--muted);font-weight:500}
    nav a:hover{color:#0b1220;background:#f3f4f6}
    @media (max-width: 640px){
      nav a[href="#growth"], nav a[href="#demos"]{display:none}
    }

    section{padding:2.75rem 0}
    .hero{min-height:calc(100svh - 64px);display:grid;place-items:center;text-align:center}
    .title{font-size:clamp(2rem,2.2rem + 1vw,3rem);line-height:1.1;margin:.4rem 0;font-weight:700}
    .sub{color:var(--muted);max-width:56ch;margin-inline:auto;font-weight:400}
    .cta{display:flex;gap:.75rem;justify-content:center;flex-wrap:wrap;margin-top:1rem}
    .btn{padding:.8rem 1.1rem;border-radius:14px;border:1px solid var(--bd);font-weight:600;transition:all .2s ease}
    .btn-primary{background:linear-gradient(135deg,var(--lime),var(--orange));border:none;color:#0b1220}
    .btn-outline{background:#fff;color:#0b1220}
    .btn:hover{transform:translateY(-1px);box-shadow:var(--shadow)}

    .section-head{display:flex;align-items:end;justify-content:space-between;gap:1rem;margin-bottom:1.1rem}
    .section-head h2{margin:0;font-size:clamp(1.25rem,1rem + 1vw,1.9rem);font-weight:600}
    .pill{display:inline-flex;padding:.3rem .7rem;border-radius:999px;background:#f3f4f6;color:#111827;font-size:.8rem;font-weight:700}

    .cards{display:grid;gap:1.5rem}
    @media (min-width:720px){.cards{grid-template-columns:repeat(2,minmax(0,1fr))}}
    @media (min-width:1200px){.cards{grid-template-columns:repeat(3,minmax(0,1fr))}}
    .card{background:#fff;border:1px solid var(--bd);border-radius:18px;padding:1.2rem;box-shadow:var(--shadow);transition:transform .3s ease}
    .card:hover{transform:translateY(-4px)}
    .card h3{margin:.25rem 0 .25rem;font-weight:600}

    /* VIDEO GRID + THUMBNAILS */
    .grid{display:grid;gap:16px;grid-template-columns: repeat(auto-fill, minmax(280px,1fr));}
    .video-card{position:relative;aspect-ratio:16/9;background:#0b1220;border:1px solid var(--bd);border-radius:14px;overflow:hidden;cursor:pointer}
    .video-card.hidden{display:none}
    .video-thumb{width:100%;height:100%;object-fit:cover;display:block;transform:scale(1);transition:transform .35s ease}
    .video-card:hover .video-thumb{transform:scale(1.03)}
    .play-btn{position:absolute;inset:0;display:grid;place-items:center;background:linear-gradient(0deg,rgba(0,0,0,.35),rgba(0,0,0,.35));color:#fff;font-weight:700;font-size:1rem;letter-spacing:.25px}
    .load-more{margin:16px auto;display:block}

    footer{padding:2rem 0;color:var(--muted);border-top:1px solid var(--bd);text-align:center;font-weight:400}
    .kicker{text-transform:uppercase;letter-spacing:.15em;font-weight:600;font-size:.75rem;color:#111827}

    [data-reveal]{opacity:0;transform:translateY(16px);transition:opacity .6s ease,transform .6s ease}
    [data-reveal].is-visible{opacity:1;transform:translateY(0)}
    .stagger>*{opacity:0;transform:translateY(16px)}
    .stagger.is-visible>*{animation:reveal .7s ease forwards}
    .stagger.is-visible>*:nth-child(1){animation-delay:.05s}
    .stagger.is-visible>*:nth-child(2){animation-delay:.15s}
    .stagger.is-visible>*:nth-child(3){animation-delay:.25s}
    @keyframes reveal{to{opacity:1;transform:translateY(0)}}
  </style>
</head>
<body>
  <header>
    <div class="container nav" data-reveal>
      <a class="brand" href="#top" aria-label="The Potential Company home">
        <span class="dot" aria-hidden="true"></span>
        <span>The Potential Company</span>
      </a>
      <nav aria-label="Primary">
        <a href="#growth">Growth</a>
        <a href="#demos">Content</a>
        <a href="#contact">Contact</a>
      </nav>
    </div>
  </header>

  <main id="top">
    <section class="hero container" id="hero">
      <div class="stack" data-reveal>
        <h1 class="title">The Potential Company</h1>
        <p class="sub">Helping <strong>Good businesses</strong> reach their potential.</p>
        <div class="cta">
          <a class="btn btn-primary" href="#growth">Explore how</a>
          <a class="btn btn-outline" href="#demos">See demos</a>
        </div>
      </div>
    </section>

    <section class="container" id="growth" aria-labelledby="growth-title">
      <div class="section-head" data-reveal>
        <h2 id="growth-title">How we help good businesses grow</h2>
      </div>
      <div class="cards stagger" data-reveal>
        <article class="card horiz">
          <h3>ðŸ’š Revenue Growth</h3>
          <p class="sub">We design bespoke loyalty programs and data systems powered by Meta.</p>
        </article>
        <article class="card horiz">
          <h3>ðŸ“² Product & Efficiency Growth</h3>
          <p class="sub">We build digital products and automations tailored to each business.</p>
        </article>
        <article class="card horiz">
          <h3>ðŸ“ˆ Capital Growth</h3>
          <p class="sub">We help businesses scale through capital raising, fractional CFO services, and strategy.</p>
        </article>
      </div>
    </section>

    <section class="container" id="demos" aria-labelledby="demos-title">
      <div class="section-head" data-reveal>
        <h2 id="demos-title">Demos & Docs</h2>
        <span class="pill">1â€“5 min clips</span>
      </div>

      <!-- Video grid -->
      <div id="videoGrid" class="grid" data-reveal>
        <!-- CARD 1 (your only real video currently) -->
        <div class="card stack video-card" data-loom-id="45f31603ae1849ff97bb9c009d7269a3" title="WhatsApp Stamp Card Demo">
          <img class="video-thumb" src="/thumbs/loom1.jpg" alt="WhatsApp stamp card demo thumbnail">
          <div class="play-btn">â–¶ Play</div>
        </div>

        <!-- CARD 2 (leave empty for now; will auto-hide if no id) -->
        <div class="card stack video-card" data-loom-id="" title="Second demo">
          <img class="video-thumb" src="/thumbs/loom2.jpg" alt="Second demo thumbnail">
          <div class="play-btn">â–¶ Play</div>
        </div>

        <!-- More cards (placeholders). They will auto-hide without valid IDs. -->
        <div class="card stack video-card" data-loom-id="" title="Database enrichment & flows">
          <img class="video-thumb" src="/thumbs/loom3.jpg" alt="Database enrichment demo thumbnail">
          <div class="play-btn">â–¶ Play</div>
        </div>

        <div class="card stack video-card" data-loom-id="" title="Stamp-to-offer automation">
          <img class="video-thumb" src="/thumbs/loom4.jpg" alt="Stamp-to-offer automation thumbnail">
          <div class="play-btn">â–¶ Play</div>
        </div>
      </div>

      <button id="loadMore" class="btn btn-outline load-more" aria-controls="videoGrid" aria-expanded="false" style="display:none">
        Show more videos
      </button>
      <p class="sub" style="margin-top:.25rem">Only the videos you open are loaded, improving speed.</p>
    </section>

    <section class="container" id="contact" aria-labelledby="contact-title">
      <div class="section-head" data-reveal>
        <h2 id="contact-title">Connect with Us</h2>
      </div>
      <div class="cards" style="grid-template-columns:1fr;">
        <div class="card stack" data-reveal>
          <p class="kicker">Letâ€™s achieve potential together.</p>
          <div class="stack">
            <a class="btn btn-primary" href="mailto:daniel@thepotentialcompany.com">Email: connect@thepotentialcompany.com</a>
            <a class="btn btn-outline" href="https://www.linkedin.com/in/andersondbk" target="_blank" rel="noopener">Follow on LinkedIn</a>
            <a class="btn btn-outline" href="https://wa.me/84936094972?text=HEY_TPC!" target="_blank" rel="noopener">Chat on WhatsApp</a>
          </div>
        </div>
      </div>
    </section>
  </main>

  <footer>
    <div class="container">Â© <span id="y"></span> The Potential Company. All rights reserved.</div>
  </footer>

  <script>
    // Footer year
    document.getElementById('y').textContent = new Date().getFullYear();

    // Reveal-on-scroll
    const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
    if (!prefersReduced && 'IntersectionObserver' in window) {
      const io = new IntersectionObserver((entries) => {
        entries.forEach((e) => {
          if (e.isIntersecting) {
            e.target.classList.add('is-visible');
            io.unobserve(e.target);
          }
        });
      }, { threshold: 0.12 });
      document.querySelectorAll('[data-reveal], .stagger').forEach(el => io.observe(el));
    } else {
      document.querySelectorAll('[data-reveal], .stagger').forEach(el => el.classList.add('is-visible'));
    }

    // === Video logic ===
    const grid = document.getElementById('videoGrid');
    const loadMoreBtn = document.getElementById('loadMore');
    const MAX_VISIBLE = 2; // show at most 2 videos initially

    // Helper: is a Loom ID valid?
    const isValidId = (id) => id && !/^LOOM_ID/i.test(id.trim());

    // 1) Hide cards without valid IDs
    const cards = Array.from(grid.querySelectorAll('.video-card'));
    const validCards = [];
    cards.forEach(card => {
      const id = card.dataset.loomId || '';
      if (!isValidId(id)) {
        card.classList.add('hidden'); // auto-hide empty/placeholder cards
      } else {
        validCards.push(card);
      }
    });

    // 2) Enforce max 2 visible initially; hide the rest
    validCards.forEach((card, idx) => {
      if (idx >= MAX_VISIBLE) card.classList.add('hidden');
    });

    // 3) Show "Show more" button only if more than MAX_VISIBLE valid videos
    if (validCards.length > MAX_VISIBLE) {
      loadMoreBtn.style.display = 'block';
    }

    // Click-to-load with autoplay (muted) for a better "instant" feel
    function mountLoomIframe(card) {
      const id = card.dataset.loomId;
      if (!isValidId(id)) return;

      const iframe = document.createElement('iframe');
      // Autoplay muted for smoother UX; playsinline to avoid full-screen jumps on mobile
      iframe.src = `https://www.loom.com/embed/${id}?autoplay=1&muted=1`;
      iframe.setAttribute('allow', 'autoplay; fullscreen; picture-in-picture');
      iframe.setAttribute('allowfullscreen', '');
      iframe.setAttribute('playsinline', '');
      iframe.setAttribute('loading', 'lazy');
      iframe.style.position = 'absolute';
      iframe.style.top = '0';
      iframe.style.left = '0';
      iframe.style.width = '100%';
      iframe.style.height = '100%';
      iframe.style.border = '0';

      // Create an aspect-ratio wrapper so the iframe fills nicely
      const wrap = document.createElement('div');
      wrap.style.position = 'relative';
      wrap.style.paddingBottom = '62.5%';
      wrap.style.height = '0';
      wrap.appendChild(iframe);

      card.replaceChildren(wrap);
      card.style.cursor = 'default';
    }

    // Delegate click to mount iframe with autoplay
    grid.addEventListener('click', (e) => {
      const card = e.target.closest('.video-card');
      if (!card || card.classList.contains('hidden')) return;
      // If it's still a thumbnail (no iframe yet), mount the embed
      if (!card.querySelector('iframe')) {
        mountLoomIframe(card);
      }
    });

    // "Show more videos" reveals the rest (valid ones only)
    loadMoreBtn.addEventListener('click', () => {
      let revealed = 0;
      validCards.forEach((card) => {
        if (card.classList.contains('hidden')) {
          card.classList.remove('hidden');
          revealed++;
        }
      });
      loadMoreBtn.setAttribute('aria-expanded', 'true');
      loadMoreBtn.style.display = 'none'; // hide after revealing all
    });
  </script>
</body>
</html>
